{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/sgrieve/Documents/GitHub/Habitful/components/HabitsItem.js\";\nimport { useEffect, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Styles from './Styles';\nimport Checkbox from 'expo-checkbox';\nimport { db, doc, updateDoc, arrayUnion, arrayRemove } from '../firebase/index';\nimport { deleteField } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HabitsItem(_ref) {\n  var habitId = _ref.habitId,\n    habitName = _ref.habitName,\n    currentDate = _ref.currentDate;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    checkMark = _useState2[0],\n    setCheckMark = _useState2[1];\n  var _useState3 = useState(Styles.habit_name),\n    _useState4 = _slicedToArray(_useState3, 2),\n    habitNameStyle = _useState4[0],\n    setHabitNameStyle = _useState4[1];\n  var addCompletedHabit = function () {\n    var _ref2 = _asyncToGenerator(function* (habitId) {\n      if (!checkMark) {\n        setHabitNameStyle(Styles.habit_name_completed);\n        setCheckMark(function (prev) {\n          return !prev;\n        });\n        yield updateDoc(doc(db, \"habits\", habitId), {\n          completed: arrayUnion(currentDate)\n        });\n      } else {\n        setHabitNameStyle(Styles.habit_name);\n        setCheckMark(function (prev) {\n          return !prev;\n        });\n        yield updateDoc(doc(db, \"habits\", habitId), {\n          completed: arrayRemove(currentDate)\n        });\n      }\n    });\n    return function addCompletedHabit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxDEV(View, {\n    style: Styles.habit,\n    children: _jsxDEV(Pressable, {\n      style: Styles.habit_pressable,\n      onPress: function onPress() {\n        return addCompletedHabit(habitId);\n      },\n      children: [_jsxDEV(Checkbox, {\n        style: Styles.checkbox,\n        value: checkMark\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: habitNameStyle,\n        children: habitName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"names":["useEffect","useState","Text","Pressable","View","Styles","Checkbox","db","doc","updateDoc","arrayUnion","arrayRemove","deleteField","jsxDEV","_jsxDEV","HabitsItem","_ref","habitId","habitName","currentDate","_useState","_useState2","_slicedToArray","checkMark","setCheckMark","_useState3","habit_name","_useState4","habitNameStyle","setHabitNameStyle","addCompletedHabit","_ref2","_asyncToGenerator","habit_name_completed","prev","completed","_x","apply","arguments","style","habit","children","habit_pressable","onPress","checkbox","value","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/sgrieve/Documents/GitHub/Habitful/components/HabitsItem.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Text, Pressable, View } from 'react-native';\nimport Styles from './Styles';\nimport Checkbox from 'expo-checkbox';\nimport { db, doc, updateDoc, arrayUnion, arrayRemove } from '../firebase/index';\nimport { deleteField } from 'firebase/firestore';\n\nexport default function HabitsItem({habitId, habitName, currentDate}) {\n  //const [habits, setHabits] = useState([])\n  const [checkMark, setCheckMark] = useState(false)\n  const [habitNameStyle, setHabitNameStyle] = useState(Styles.habit_name)\n\n  // ADD COMPLETED HABIT TO STORE, Update STYLING of CHECK MARK and NAME\n  const addCompletedHabit = async(habitId) => {\n    if(!checkMark){\n      setHabitNameStyle(Styles.habit_name_completed)\n      setCheckMark(prev => !prev)\n      await updateDoc(doc(db, \"habits\", (habitId)), {\n        completed: arrayUnion(currentDate)           \n      })\n    } else {\n      setHabitNameStyle(Styles.habit_name)\n      setCheckMark(prev => !prev)\n      await updateDoc(doc(db, \"habits\", (habitId)), {\n        completed: arrayRemove(currentDate)         \n      })\n    }\n  }\n  \n  return (\n    <View style={Styles.habit}>\n      <Pressable style={Styles.habit_pressable} onPress={() => addCompletedHabit(habitId)}>\n        <Checkbox style={Styles.checkbox} value={checkMark} />\n        <Text style={habitNameStyle}>{habitName}</Text>\n      </Pressable>\n    </View>\n  )\n}"],"mappings":";;;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,IAAA;AAE5C,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,QAAQ,MAAM,eAAe;AACpC,SAASC,EAAE,EAAEC,GAAG,EAAEC,SAAS,EAAEC,UAAU,EAAEC,WAAW,QAAQ,mBAAmB;AAC/E,SAASC,WAAW,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,eAAe,SAASC,UAAUA,CAAAC,IAAA,EAAoC;EAAA,IAAlCC,OAAO,GAAAD,IAAA,CAAPC,OAAO;IAAEC,SAAS,GAAAF,IAAA,CAATE,SAAS;IAAEC,WAAW,GAAAH,IAAA,CAAXG,WAAW;EAEjE,IAAAC,SAAA,GAAkCnB,QAAQ,CAAC,KAAK,CAAC;IAAAoB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAC9B,IAAAI,UAAA,GAA4CxB,QAAQ,CAACI,MAAM,CAACqB,UAAU,CAAC;IAAAC,UAAA,GAAAL,cAAA,CAAAG,UAAA;IAAhEG,cAAc,GAAAD,UAAA;IAAEE,iBAAiB,GAAAF,UAAA;EAGxC,IAAMG,iBAAiB;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,WAAMf,OAAO,EAAK;MAC1C,IAAG,CAACM,SAAS,EAAC;QACZM,iBAAiB,CAACxB,MAAM,CAAC4B,oBAAoB,CAAC;QAC9CT,YAAY,CAAC,UAAAU,IAAI;UAAA,OAAI,CAACA,IAAI;QAAA,EAAC;QAC3B,MAAMzB,SAAS,CAACD,GAAG,CAACD,EAAE,EAAE,QAAQ,EAAGU,OAAQ,CAAC,EAAE;UAC5CkB,SAAS,EAAEzB,UAAU,CAACS,WAAW;QACnC,CAAC,CAAC;MACJ,CAAC,MAAM;QACLU,iBAAiB,CAACxB,MAAM,CAACqB,UAAU,CAAC;QACpCF,YAAY,CAAC,UAAAU,IAAI;UAAA,OAAI,CAACA,IAAI;QAAA,EAAC;QAC3B,MAAMzB,SAAS,CAACD,GAAG,CAACD,EAAE,EAAE,QAAQ,EAAGU,OAAQ,CAAC,EAAE;UAC5CkB,SAAS,EAAExB,WAAW,CAACQ,WAAW;QACpC,CAAC,CAAC;MACJ;IACF,CAAC;IAAA,gBAdKW,iBAAiBA,CAAAM,EAAA;MAAA,OAAAL,KAAA,CAAAM,KAAA,OAAAC,SAAA;IAAA;EAAA,GActB;EAED,OACExB,OAAA,CAACV,IAAI;IAACmC,KAAK,EAAElC,MAAM,CAACmC,KAAM;IAAAC,QAAA,EACxB3B,OAAA,CAACX,SAAS;MAACoC,KAAK,EAAElC,MAAM,CAACqC,eAAgB;MAACC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMb,iBAAiB,CAACb,OAAO,CAAC;MAAA,CAAC;MAAAwB,QAAA,GAClF3B,OAAA,CAACR,QAAQ;QAACiC,KAAK,EAAElC,MAAM,CAACuC,QAAS;QAACC,KAAK,EAAEtB;MAAU;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACtDnC,OAAA,CAACZ,IAAI;QAACqC,KAAK,EAAEX,cAAe;QAAAa,QAAA,EAAEvB;MAAS;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}